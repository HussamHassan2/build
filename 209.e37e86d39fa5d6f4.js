"use strict";(self.webpackChunkinsurance_portal=self.webpackChunkinsurance_portal||[]).push([[209],{2209:(F,d,a)=>{a.d(d,{j:()=>T});var e=a(4438),s=a(177),c=a(9417),u=a(8516);const _=["searchInput"],p=(i,r,t)=>({"bg-gray-50 dark:bg-gray-800 text-gray-400 border-gray-200 dark:border-gray-700 cursor-not-allowed":i,"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 hover:border-blue-400 dark:hover:border-blue-500 text-navy dark:text-white":r,"focus:ring-2 focus:ring-primary focus:border-primary":t}),g=(i,r)=>({"border-blue-500 bg-blue-50 dark:bg-blue-900/20 ring-2 ring-blue-500":i,"border-gray-200 dark:border-gray-600 hover:border-blue-300 hover:bg-gray-50 dark:hover:bg-gray-700":r}),m=(i,r)=>({"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 font-medium border-2 border-blue-500":i,"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 border-2 border-transparent":r});function f(i,r){1&i&&(e.j41(0,"span",9),e.EFF(1,"*"),e.k0s())}function h(i,r){if(1&i&&(e.j41(0,"label",7),e.EFF(1),e.DNE(2,f,2,0,"span",8),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.label," "),e.R7$(),e.Y8G("ngIf",t.required)}}function b(i,r){if(1&i&&(e.j41(0,"p",26),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.subtitle," ")}}function y(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",27)(1,"div",28)(2,"div",29),e.nrm(3,"i-lucide",30),e.k0s(),e.j41(4,"input",31,0),e.bIt("ngModelChange",function(o){e.eBV(t);const l=e.XpG(2);return e.Njj(l.onSearch(o))}),e.k0s()()()}if(2&i){const t=e.XpG(2);e.R7$(4),e.Y8G("ngModel",t.searchQuery)}}function v(i,r){1&i&&(e.j41(0,"div",41),e.nrm(1,"i-lucide",42),e.k0s())}function x(i,r){if(1&i&&(e.j41(0,"span",43),e.EFF(1),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.icon," ")}}function k(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",44)(1,"img",45),e.bIt("error",function(){e.eBV(t);const o=e.XpG().$implicit;return e.Njj(o.image="")}),e.k0s()()}if(2&i){const t=e.XpG().$implicit;e.R7$(),e.Y8G("src",t.image,e.B4B)("alt",t.name)}}function w(i,r){if(1&i&&(e.j41(0,"div",46),e.EFF(1),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.description," ")}}function C(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",34),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(3);return e.Njj(l.selectOption(o))}),e.DNE(1,v,2,0,"div",35)(2,x,2,1,"span",36)(3,k,2,2,"div",37),e.nrm(4,"div",38),e.j41(5,"div",39),e.EFF(6),e.k0s(),e.DNE(7,w,2,1,"div",40),e.k0s()}if(2&i){const t=r.$implicit,n=e.XpG(3);e.Y8G("ngClass",e.l_i(6,g,n.isSelected(t),!n.isSelected(t))),e.R7$(),e.Y8G("ngIf",n.isSelected(t)),e.R7$(),e.Y8G("ngIf",n.showIcons&&t.icon&&!t.image),e.R7$(),e.Y8G("ngIf",t.image),e.R7$(3),e.SpI(" ",t.name," "),e.R7$(),e.Y8G("ngIf",t.description)}}function I(i,r){if(1&i&&(e.j41(0,"div",32),e.DNE(1,C,8,9,"button",33),e.k0s()),2&i){const t=e.XpG(2);e.Y8G("ngClass","grid gap-4 grid-cols-2 md:grid-cols-3 lg:grid-cols-"+t.gridCols),e.R7$(),e.Y8G("ngForOf",t.filteredOptions)}}function j(i,r){if(1&i&&(e.j41(0,"span",56),e.EFF(1),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.icon," ")}}function S(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",57)(1,"img",58),e.bIt("error",function(){e.eBV(t);const o=e.XpG().$implicit;return e.Njj(o.image="")}),e.k0s()()}if(2&i){const t=e.XpG().$implicit;e.R7$(),e.Y8G("src",t.image,e.B4B)("alt",t.name)}}function M(i,r){if(1&i&&(e.j41(0,"div",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.description," ")}}function G(i,r){1&i&&e.nrm(0,"i-lucide",60)}function $(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",49),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(3);return e.Njj(l.selectOption(o))}),e.j41(1,"div",50),e.DNE(2,j,2,1,"span",51)(3,S,2,2,"div",52),e.j41(4,"div")(5,"div",53),e.EFF(6),e.k0s(),e.DNE(7,M,2,1,"div",54),e.k0s()(),e.DNE(8,G,1,0,"i-lucide",55),e.k0s()}if(2&i){const t=r.$implicit,n=e.XpG(3);e.Y8G("ngClass",e.l_i(6,m,n.isSelected(t),!n.isSelected(t))),e.R7$(2),e.Y8G("ngIf",n.showIcons&&t.icon&&!t.image),e.R7$(),e.Y8G("ngIf",t.image),e.R7$(3),e.JRh(t.name),e.R7$(),e.Y8G("ngIf",t.description),e.R7$(),e.Y8G("ngIf",n.isSelected(t))}}function O(i,r){if(1&i&&(e.j41(0,"div",47),e.DNE(1,$,9,9,"button",48),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.filteredOptions)}}function R(i,r){if(1&i&&(e.j41(0,"div",61),e.nrm(1,"i-lucide",62),e.j41(2,"p"),e.EFF(3),e.k0s()()),2&i){const t=e.XpG(2);e.R7$(3),e.SpI('No options found matching "',t.searchQuery,'"')}}function E(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",10)(1,"div",11),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.closeModal())}),e.k0s(),e.j41(2,"div",12)(3,"div",13)(4,"div",14)(5,"div")(6,"h3",15),e.EFF(7),e.k0s(),e.DNE(8,b,2,1,"p",16),e.k0s(),e.j41(9,"button",17),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.closeModal())}),e.nrm(10,"i-lucide",18),e.k0s()(),e.DNE(11,y,6,1,"div",19),e.j41(12,"div",20),e.DNE(13,I,2,2,"div",21)(14,O,2,1,"div",22)(15,R,4,1,"div",23),e.k0s(),e.j41(16,"div",24)(17,"button",25),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.closeModal())}),e.EFF(18," Cancel "),e.k0s()()()()()}if(2&i){const t=e.XpG();e.R7$(7),e.SpI(" ",t.title," "),e.R7$(),e.Y8G("ngIf",t.subtitle),e.R7$(3),e.Y8G("ngIf",t.enableSearch),e.R7$(2),e.Y8G("ngIf","grid"===t.effectiveLayout),e.R7$(),e.Y8G("ngIf","list"===t.effectiveLayout),e.R7$(),e.Y8G("ngIf",0===t.filteredOptions.length)}}let T=(()=>{class i{constructor(){this.label="",this.placeholder="Choose an option...",this.title="Select Option",this.subtitle="Choose from available options",this.options=[],this.value="",this.disabled=!1,this.required=!1,this.layout="auto",this.gridCols=4,this.displayKey="name",this.valueKey="code",this.iconKey="icon",this.imageKey="image",this.descriptionKey="description",this.enableSearch=!0,this.showIcons=!0,this.valueChange=new e.bkB,this.change=new e.bkB,this.search=new e.bkB,this.isOpen=!1,this.searchQuery="",this.normalizedOptions=[],this.selectedOption=null,this.effectiveLayout="grid"}ngOnInit(){this.normalizeOptions(),this.updateSelectedOption(),this.determineLayout()}ngOnChanges(t){t.options&&(this.normalizeOptions(),this.determineLayout()),t.value&&this.updateSelectedOption()}normalizeOptions(){console.log(`SelectionModal [${this.label}]: Normalizing options with imageKey:`,this.imageKey),this.normalizedOptions=this.options.map(t=>"string"==typeof t?{code:t,name:t,icon:"",image:"",description:""}:{code:t[this.valueKey]||t.code||t.value||"",name:t[this.displayKey]||t.name||t.label||"",icon:t[this.iconKey]||t.icon||"",image:t[this.imageKey]||t.image||"",description:t[this.descriptionKey]||t.description||""}),console.log(`SelectionModal [${this.label}]: Normalized Options Sample:`,this.normalizedOptions.slice(0,2))}determineLayout(){this.effectiveLayout="auto"===this.layout?this.normalizedOptions.length>=6?"grid":"list":this.layout}updateSelectedOption(){this.selectedOption=this.value&&this.normalizedOptions.find(t=>t.code===this.value)||null}get displayValue(){if(!this.value)return"";const t=this.normalizedOptions.find(n=>n.code===this.value);return t?t.name:""}get filteredOptions(){if(!this.searchQuery)return this.normalizedOptions;const t=this.searchQuery.toLowerCase();return this.normalizedOptions.filter(n=>n.name.toLowerCase().includes(t)||n.description?.toLowerCase().includes(t)||!1)}openModal(){this.disabled||(this.isOpen=!0,this.searchQuery="",setTimeout(()=>{this.searchInput&&this.searchInput.nativeElement.focus()},100))}closeModal(){this.isOpen=!1}selectOption(t){this.value=t.code,this.selectedOption=t,this.valueChange.emit(this.value),this.change.emit(),this.closeModal()}onSearch(t){this.searchQuery=t,this.search.emit(t)}isSelected(t){return this.selectedOption?.code===t.code}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-selection-modal"]],viewQuery:function(n,o){if(1&n&&e.GBs(_,5),2&n){let l;e.mGM(l=e.lsd())&&(o.searchInput=l.first)}},inputs:{label:"label",placeholder:"placeholder",title:"title",subtitle:"subtitle",options:"options",value:"value",disabled:"disabled",required:"required",layout:"layout",gridCols:"gridCols",displayKey:"displayKey",valueKey:"valueKey",iconKey:"iconKey",imageKey:"imageKey",descriptionKey:"descriptionKey",enableSearch:"enableSearch",showIcons:"showIcons"},outputs:{valueChange:"valueChange",change:"change",search:"search"},features:[e.OA$],decls:8,vars:11,consts:[["searchInput",""],["class","block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",4,"ngIf"],["type","button",1,"relative","w-full","h-11","px-4","text-left","border","rounded-lg","transition-colors","flex","items-center","justify-between","group",3,"click","disabled","ngClass"],[1,"block","truncate"],[1,"pointer-events-none","absolute","inset-y-0","right-0","flex","items-center","pr-2"],["name","chevron-down",1,"h-4","w-4","text-gray-400","group-hover:text-blue-500","transition-colors"],["class","fixed inset-0 z-50 overflow-y-auto","role","dialog","aria-modal","true",4,"ngIf"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],["class","text-red-500",4,"ngIf"],[1,"text-red-500"],["role","dialog","aria-modal","true",1,"fixed","inset-0","z-50","overflow-y-auto"],[1,"fixed","inset-0","bg-gray-900/60","backdrop-blur-md","transition-opacity",3,"click"],[1,"flex","min-h-screen","items-center","justify-center","p-4"],[1,"relative","w-full","max-w-4xl","transform","overflow-hidden","rounded-2xl","bg-white","dark:bg-gray-800","shadow-2xl","transition-all"],[1,"px-6","py-4","border-b","border-gray-100","dark:border-gray-700","flex","items-center","justify-between","bg-white","dark:bg-gray-800","sticky","top-0","z-10"],[1,"text-lg","font-bold","text-navy","dark:text-white"],["class","text-sm text-gray-500 dark:text-gray-400 mt-1",4,"ngIf"],["type","button",1,"text-gray-400","hover:text-gray-500","dark:hover:text-gray-300","transition-colors","rounded-full","p-1","hover:bg-gray-100","dark:hover:bg-gray-700",3,"click"],["name","x",1,"h-5","w-5"],["class","p-4 border-b border-gray-100 dark:border-gray-700 bg-gray-50/50 dark:bg-gray-800/50",4,"ngIf"],[1,"max-h-[60vh]","overflow-y-auto","p-4","scrollbar-thin","scrollbar-thumb-gray-200","dark:scrollbar-thumb-gray-600"],[3,"ngClass",4,"ngIf"],["class","space-y-2",4,"ngIf"],["class","text-center py-12 text-gray-500 dark:text-gray-400",4,"ngIf"],[1,"px-6","py-4","bg-gray-50","dark:bg-gray-800/50","border-t","border-gray-100","dark:border-gray-700","flex","justify-end","gap-3"],["type","button",1,"px-4","py-2","bg-white","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","text-sm","font-medium","text-gray-700","dark:text-gray-200","hover:bg-gray-50","dark:hover:bg-gray-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","transition-colors","shadow-sm",3,"click"],[1,"text-sm","text-gray-500","dark:text-gray-400","mt-1"],[1,"p-4","border-b","border-gray-100","dark:border-gray-700","bg-gray-50/50","dark:bg-gray-800/50"],[1,"relative"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],["name","search",1,"h-4","w-4","text-gray-400"],["type","text","placeholder","Search...",1,"block","w-full","pl-10","pr-4","py-2","bg-white","dark:bg-gray-700","border","border-gray-200","dark:border-gray-600","rounded-lg","text-sm","text-gray-900","dark:text-white","placeholder-gray-400","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-shadow",3,"ngModelChange","ngModel"],[3,"ngClass"],["type","button","class","relative flex flex-col items-center justify-center p-6 rounded-xl border-2 hover:shadow-lg transition-all duration-200 text-center min-h-[120px]",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button",1,"relative","flex","flex-col","items-center","justify-center","p-6","rounded-xl","border-2","hover:shadow-lg","transition-all","duration-200","text-center","min-h-[120px]",3,"click","ngClass"],["class","absolute top-2 left-2 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center shadow-md z-10",4,"ngIf"],["class","text-4xl mb-3 text-gray-400",4,"ngIf"],["class","absolute top-2 right-2 h-8 w-8 rounded-full bg-white shadow-sm border border-gray-100 flex items-center justify-center overflow-hidden",4,"ngIf"],[1,"mt-4"],[1,"font-semibold","text-gray-800","dark:text-gray-200","text-sm"],["class","text-xs text-gray-500 dark:text-gray-400 mt-1",4,"ngIf"],[1,"absolute","top-2","left-2","w-6","h-6","bg-blue-500","rounded-full","flex","items-center","justify-center","shadow-md","z-10"],["name","check",1,"h-4","w-4","text-white"],[1,"text-4xl","mb-3","text-gray-400"],[1,"absolute","top-2","right-2","h-8","w-8","rounded-full","bg-white","shadow-sm","border","border-gray-100","flex","items-center","justify-center","overflow-hidden"],[1,"h-6","w-6","object-contain",3,"error","src","alt"],[1,"text-xs","text-gray-500","dark:text-gray-400","mt-1"],[1,"space-y-2"],["type","button","class","w-full text-left px-4 py-3 rounded-lg flex items-center justify-between group transition-all duration-200",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button",1,"w-full","text-left","px-4","py-3","rounded-lg","flex","items-center","justify-between","group","transition-all","duration-200",3,"click","ngClass"],[1,"flex","items-center","gap-3"],["class","text-2xl",4,"ngIf"],["class","h-8 w-8 flex-shrink-0 flex items-center justify-center",4,"ngIf"],[1,"font-medium"],["class","text-sm text-gray-500 dark:text-gray-400",4,"ngIf"],["name","check","class","h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0",4,"ngIf"],[1,"text-2xl"],[1,"h-8","w-8","flex-shrink-0","flex","items-center","justify-center"],[1,"max-h-full","max-w-full","object-contain",3,"error","src","alt"],[1,"text-sm","text-gray-500","dark:text-gray-400"],["name","check",1,"h-5","w-5","text-blue-600","dark:text-blue-400","flex-shrink-0"],[1,"text-center","py-12","text-gray-500","dark:text-gray-400"],["name","search-x",1,"h-12","w-12","mx-auto","mb-3","opacity-50"]],template:function(n,o){1&n&&(e.j41(0,"div"),e.DNE(1,h,3,2,"label",1),e.j41(2,"button",2),e.bIt("click",function(){return o.openModal()}),e.j41(3,"span",3),e.EFF(4),e.k0s(),e.j41(5,"span",4),e.nrm(6,"i-lucide",5),e.k0s()()(),e.DNE(7,E,19,6,"div",6)),2&n&&(e.R7$(),e.Y8G("ngIf",o.label),e.R7$(),e.Y8G("disabled",o.disabled)("ngClass",e.sMw(7,p,o.disabled,!o.disabled,!o.disabled)),e.R7$(),e.AVh("text-gray-500",!o.value),e.R7$(),e.SpI(" ",o.displayValue||o.placeholder," "),e.R7$(3),e.Y8G("ngIf",o.isOpen))},dependencies:[s.YU,s.Sq,s.bT,c.me,c.BC,c.vS,u.WGl],styles:["[_nghost-%COMP%]{display:block}"]})}}return i})()}}]);